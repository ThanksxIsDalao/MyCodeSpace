# **applyã€call å’Œ bind çš„ä½œç”¨åŠåŒºåˆ«**



åœ¨ JavaScript ä¸­ï¼Œapplyã€call å’Œ bind éƒ½å¯ä»¥ç”¨æ¥**æ”¹å˜ this æŒ‡å‘**ï¼Œè®©ä¸€ä¸ªå¯¹è±¡å€Ÿç”¨å¦ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œä½†å®ƒä»¬çš„ä½¿ç”¨æ–¹å¼ç•¥æœ‰ä¸åŒã€‚

**1. call æ–¹æ³•**

**ä½œç”¨**

call æ–¹æ³•ç”¨äº**ç«‹å³è°ƒç”¨**ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶æ˜¾å¼æŒ‡å®š this ä»¥åŠä¼ é€’å‚æ•°ã€‚

**è¯­æ³•**

```
func.call(thisArg, arg1, arg2, ...)
```

**ç¤ºä¾‹**

```
function greet(age, city) {
    console.log(`æˆ‘æ˜¯ ${this.name}ï¼Œä»Šå¹´ ${age} å²ï¼Œæ¥è‡ª ${city}`);
}

const person = { name: "å¼ ä¸‰" };
greet.call(person, 25, "åŒ—äº¬");
// è¾“å‡º: æˆ‘æ˜¯ å¼ ä¸‰ï¼Œä»Šå¹´ 25 å²ï¼Œæ¥è‡ª åŒ—äº¬
```

â€‹	â€¢	call ç«‹å³æ‰§è¡Œ greetï¼Œå¹¶ä¸”å°† this æŒ‡å‘ personï¼Œç„¶åæŠŠ age å’Œ city ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚



**2. apply æ–¹æ³•**

**ä½œç”¨**

apply å’Œ call ä¸€æ ·ï¼Œä¹Ÿæ˜¯**ç«‹å³è°ƒç”¨**å‡½æ•°ï¼Œå¹¶æ˜¾å¼æŒ‡å®š thisï¼Œä½†å®ƒçš„**å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„**ã€‚

**è¯­æ³•**

```
func.apply(thisArg, [arg1, arg2, ...])
```

**ç¤ºä¾‹**

```
function greet(age, city) {
    console.log(`æˆ‘æ˜¯ ${this.name}ï¼Œä»Šå¹´ ${age} å²ï¼Œæ¥è‡ª ${city}`);
}

const person = { name: "æå››" };
greet.apply(person, [30, "ä¸Šæµ·"]);
// è¾“å‡º: æˆ‘æ˜¯ æå››ï¼Œä»Šå¹´ 30 å²ï¼Œæ¥è‡ª ä¸Šæµ·
```

â€‹	â€¢	apply ä¹Ÿæ˜¯ç«‹å³æ‰§è¡Œ greetï¼Œä½†æ˜¯å‚æ•°è¦ç”¨æ•°ç»„çš„å½¢å¼ä¼ é€’ã€‚



**apply vs call**

â€‹	â€¢	call ç”¨ **é€—å·åˆ†éš”** ä¼ å‚ï¼Œå¦‚ call(thisArg, param1, param2)

â€‹	â€¢	apply ç”¨ **æ•°ç»„** ä¼ å‚ï¼Œå¦‚ apply(thisArg, [param1, param2])



â€‹	**ä½•æ—¶ä½¿ç”¨ applyï¼Ÿ**

â€‹		â€¢	å½“å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„æ—¶ï¼Œapply æ›´æ–¹ä¾¿ï¼Œæ¯”å¦‚ Math.max.apply(null, [1, 5, 3, 9])ã€‚



**3. bind æ–¹æ³•**

**ä½œç”¨**

bind **ä¸ä¼šç«‹å³è°ƒç”¨**å‡½æ•°ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå¹¶æ°¸ä¹…ç»‘å®š this å’Œä¼ é€’çš„å‚æ•°ã€‚

**è¯­æ³•**

```
const newFunc = func.bind(thisArg, arg1, arg2, ...)
```

**ç¤ºä¾‹**

```
function greet(age, city) {
    console.log(`æˆ‘æ˜¯ ${this.name}ï¼Œä»Šå¹´ ${age} å²ï¼Œæ¥è‡ª ${city}`);
}

const person = { name: "ç‹äº”" };
const boundGreet = greet.bind(person, 40);
boundGreet("æ·±åœ³");
// è¾“å‡º: æˆ‘æ˜¯ ç‹äº”ï¼Œä»Šå¹´ 40 å²ï¼Œæ¥è‡ª æ·±åœ³
```

â€‹	â€¢	bind **ä¸ä¼šç«‹å³æ‰§è¡Œ** greetï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•° boundGreetï¼Œthis ç»‘å®šåˆ° personï¼Œage ç»‘å®šä¸º 40ï¼Œè°ƒç”¨æ—¶å†ä¼ å…¥ cityã€‚



**bind vs call/apply**

â€‹	â€¢	call/apply ç«‹å³æ‰§è¡Œå‡½æ•°

â€‹	â€¢	bind åªæ˜¯**è¿”å›ä¸€ä¸ªæ–°å‡½æ•°**ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨



**4. ä¸»è¦åŒºåˆ«æ€»ç»“**

| **æ–¹æ³•**  | **æ˜¯å¦ç«‹å³æ‰§è¡Œ**       | **ä¼ å‚æ–¹å¼**       | **è¿”å›å€¼**       |
| --------- | ---------------------- | ------------------ | ---------------- |
| **call**  | âœ… ç«‹å³æ‰§è¡Œ             | é€—å·åˆ†éš”çš„å‚æ•°åˆ—è¡¨ | è°ƒç”¨çš„å‡½æ•°è¿”å›å€¼ |
| **apply** | âœ… ç«‹å³æ‰§è¡Œ             | **æ•°ç»„** ä¼ å‚      | è°ƒç”¨çš„å‡½æ•°è¿”å›å€¼ |
| **bind**  | âŒ ä¸æ‰§è¡Œï¼Œåªè¿”å›æ–°å‡½æ•° | é€—å·åˆ†éš”çš„å‚æ•°åˆ—è¡¨ | **æ–°çš„å‡½æ•°**     |



**5. ä½¿ç”¨åœºæ™¯**

| **åœºæ™¯**                    | **é€‚åˆçš„æ–¹æ³•** | **è¯´æ˜**                               |
| --------------------------- | -------------- | -------------------------------------- |
| **æ”¹å˜ this ç«‹å³æ‰§è¡Œå‡½æ•°**  | call / apply   | é€‚ç”¨äºæ™®é€šæ–¹æ³•è°ƒç”¨                     |
| **å‚æ•°æ˜¯æ•°ç»„çš„æƒ…å†µ**        | apply          | é€‚ç”¨äº Math.max.apply(null, [1, 2, 3]) |
| **ç»‘å®š thisï¼Œä½†ç¨åå†æ‰§è¡Œ** | bind           | é€‚ç”¨äºäº‹ä»¶ç›‘å¬ã€å®šæ—¶å™¨ã€å›è°ƒ           |



**6. çœŸå®åº”ç”¨ç¤ºä¾‹**



**ï¼ˆ1ï¼‰Math.max ä½¿ç”¨ apply**

```
const nums = [3, 9, 2, 5, 7];
console.log(Math.max.apply(null, nums)); // è¾“å‡º 9
```

â€‹	Math.max ä¸èƒ½ç›´æ¥ä¼ æ•°ç»„ï¼Œapply å¯ä»¥å±•å¼€æ•°ç»„ã€‚



**ï¼ˆ2ï¼‰å®šæ—¶å™¨ bind**

```
const obj = {
    name: "Alice",
    sayHi() {
        setTimeout(this.greet.bind(this), 1000);
    },
    greet() {
        console.log(`ä½ å¥½ï¼Œæˆ‘æ˜¯ ${this.name}`);
    }
};
obj.sayHi();
// 1 ç§’åè¾“å‡º: ä½ å¥½ï¼Œæˆ‘æ˜¯ Alice
```

â€‹	è¿™é‡Œ setTimeout(this.greet, 1000) ä¼šå¯¼è‡´ this ä¸¢å¤±ï¼Œæ‰€ä»¥ç”¨ bind(this) ç»‘å®šã€‚



**ï¼ˆ3ï¼‰äº‹ä»¶ç›‘å¬ bind**

```
const button = document.getElementById("myBtn");
const person = {
    name: "Bob",
    sayHi() {
        console.log(`ä½ å¥½ï¼Œæˆ‘æ˜¯ ${this.name}`);
    }
};
button.addEventListener("click", person.sayHi.bind(person));
```

â€‹	bind ç¡®ä¿ this å§‹ç»ˆæŒ‡å‘ personï¼Œè€Œä¸ä¼šå˜æˆ buttonã€‚



**æ€»ç»“**

â€‹	â€¢	call å’Œ apply ç«‹å³æ‰§è¡Œï¼Œbind åªæ˜¯è¿”å›æ–°å‡½æ•°ã€‚

â€‹	â€¢	call å’Œ apply ä¸»è¦åŒºåˆ«æ˜¯**å‚æ•°ä¼ é€’æ–¹å¼**ï¼ˆapply ç”¨æ•°ç»„ï¼‰ã€‚

â€‹	â€¢	bind é€‚ç”¨äº**å»¶è¿Ÿæ‰§è¡Œ**çš„åœºæ™¯ï¼Œå¦‚**äº‹ä»¶ç›‘å¬ã€å®šæ—¶å™¨ã€å›è°ƒ**ç­‰ã€‚



ğŸ”¥ **å£è¯€**ï¼š

â€‹	â€¢	**è¦ç«‹å³æ‰§è¡Œ**ï¼Ÿç”¨ call æˆ– applyï¼ˆå‚æ•°æ•°ç»„å°±ç”¨ applyï¼‰ã€‚

â€‹	â€¢	**è¦è¿”å›æ–°å‡½æ•°**ï¼Ÿç”¨ bindã€‚